import{d as n,u as N,t as M,r as a,j as e,b as k,C as D}from"./index-DjgXxVfn.js";import{P as S,a as E,G as Y}from"./index-MxTyqqxA.js";import{g as L}from"./util-oYDmJMfv.js";import{R,P}from"./PopUp-WH6JJVy9.js";n.extend(N);n.extend(M);const z=({setDate:u,CalendarData:p})=>{const[l,f]=a.useState(n().tz("Asia/Kolkata")),g=l.year(),x=l.month(),[b,y]=a.useState([]);let m=L(x,g);const h=async(r,c)=>{await k(`https://calendarific.com/api/v2/holidays?api_key=5Erv3UFqRquyzbt0FgkLfvBm1qC84s6E&country=IN&year=${r}`).then(s=>{let i=s.data.response.holidays.filter(t=>n(t.date.iso).month()===c-1);console.log(i),y(i)}).catch(s=>(console.error("Error fetching holidays:",s),[]))};a.useEffect(()=>{h(l.year(),l.month()+1)},[l]);const v=r=>{f(r==="prev"?n(new Date(l.year(),l.month()-1,l.date())):n(new Date(l.year(),l.month()+1,l.date())))};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center my-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:l.format("MMMM YYYY")}),e.jsxs("div",{className:"flex text-2xl gap-4 text-black",children:[e.jsx(S,{onClick:()=>v("prev")}),e.jsx(E,{onClick:()=>v("next")})]})]}),e.jsxs("div",{className:"flex flex-col justify-stretch flex-1",children:[e.jsx("div",{className:"flex justify-evenly flex-1 mb-1",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map((r,c)=>e.jsx("div",{className:"flex-1 text-center p-2 font-semibold",children:r},c))}),m.map((r,c)=>e.jsx("div",{className:"flex justify-evenly flex-1 gap-1 mb-1",children:r.map((s,i)=>{const t=b.filter(C=>C.date.iso===s),o=n(s).date();n(s).format("MMM");let d=p.find(C=>C.date===n(s).format("YYYY-MM-DD"));const j={Task:"#f5265a",Meeting:"#33ca2f",Calling:"#5abbf0"},w=t.length>0?"yellow":j[d==null?void 0:d.type]||null;return e.jsx("div",{className:`flex-1 aspect-square flex justify-center items-center hover:bg-gray-200 cursor-pointer ${x!==n(s).month()&&"opacity-70"}  
                      ${n().tz("Asia/Kolkata").format("YY-MM-DD")===n(s).format("YY-MM-DD")&&"bg-[#419dff81] p-1 rounded-t-full hover:!bg-[#419dff81]"} 
                      ${(n(s).day()==0||n(s).day()==6)&&"font-bold"} 
                      ${t.length>0&&"!border-b-yellow-300 !border-b-2"}   
                      `,style:w&&{borderBottom:`3px solid ${w}`},onClick:()=>u(n(new Date(l.year(),l.month(),l.date()))),children:o},i)})},c))]})]})};function I(u){return Y({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor"},child:[]}]})(u)}const O=["Task","Meeting","Calling"],$=[{text:"Task",color:"#f5265a"},{text:"Meeting",color:"#33ca2f"},{text:"Calling",color:"#0999e4"}],A=["Artem Ivushkin","Shubham Joshi"],B=({setDate:u,type:p,setType:l})=>{const[f,g]=a.useState(!1),[x,b]=a.useState(null),[y,m]=a.useState(!1),[h,v]=a.useState("Artem Ivushkin"),{CalendarData:r}=a.useContext(D),c=()=>{g(!f)},s=a.useRef(null),i=a.useRef(null);return a.useEffect(()=>{function t(o){s.current&&!s.current.contains(o.target)&&g(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[s]),a.useEffect(()=>{function t(o){s.current&&!i.current.contains(o.target)&&m(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[i]),e.jsxs("div",{className:"w-[400px] p-8",children:[e.jsxs("div",{className:"relative inline-block text-left w-48 z-10",ref:s,children:[e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"inline-flex justify-between border rounded-full border-gray-900 shadow-sm px-8 py-4 bg-white text-xl font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",onClick:c,children:"Options"})}),f&&e.jsx("div",{className:"origin-top-right absolute right-0 w-full mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:e.jsx("div",{className:"py-1",role:"none",children:O.map((t,o)=>e.jsx("div",{className:"text-gray-700 block pl-4 py-2 pr-12 text-lg font-medium cursor-pointer hover:text-[#58abd8] hover:bg-[#58abd821]",onClick:()=>b(t),children:t},o))})})]}),e.jsx(z,{setDate:u,CalendarData:r}),e.jsxs("div",{ref:i,className:"relative inline-block text-left w-full my-8",children:[e.jsxs("button",{onClick:()=>m(!y),className:"hover:text-white w-full border hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center justify-between ",type:"button",children:[h||"Select User"," ",e.jsx(R,{className:"text-4xl"})]}),y&&e.jsx("div",{className:"z-10 absolute right-0 mt-2 bg-white divide-y  w-full divide-gray-100 rounded-lg shadow",children:e.jsx("ul",{className:"py-2 text-sm text-gray-700 rounded-lg ","aria-labelledby":"dropdownDefaultButton",children:A.map((t,o)=>e.jsx("li",{className:`block px-4 py-2 hover:bg-gray-100 cursor-pointer ${h===t&&"!bg-[#0999e4] text-white font-bold"}`,onClick:()=>{console.log("CLikc"),v(t),m(!1)},children:t},o))})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold my-6",children:"My Calendars"}),e.jsx("ul",{children:$.map((t,o)=>e.jsxs("li",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("input",{id:t.text,type:"checkbox",value:t.text,defaultChecked:!0,onClick:d=>{d.target.checked?l([...p,d.target.value]):l(p.filter(j=>j!==t.text))},className:"w-4 h-4 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",style:{accentColor:t.color}}),e.jsx("label",{htmlFor:t.text,className:"ms-2 text-2xl font-medium flex-1 cursor-pointer",style:{color:t.color},children:t.text})]}),e.jsx(I,{})]},o))})]}),x&&e.jsx(P,{showPopUpType:x,setShowPopUpType:b})]})};export{B as default};
